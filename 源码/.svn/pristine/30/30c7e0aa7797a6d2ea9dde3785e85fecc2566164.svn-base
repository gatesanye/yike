<?php
require_once '../base.php';
header(View\Header::CONTENT_TYPE);
/* $user = new Model\User();
$user->init(array('user_name' => 'adadsafsd',
				  'email'		=> 'gatesanye',
				  'user_pwd'	=> 'anye'
));
$user->save();
echo "okay"; */
/* $user = Model\User::last();
echo $user->is_new_record(); */

/* $users = Model\User::all();
foreach ($users as $user){
	echo '删除' . $user->user_name . '\n';
	$user->delete();
}
echo '完成'; */
/* $user = Model\User::getCurrentUser();
$chenanye = Model\User::last();

$message = new Model\Message();
$message->init(array(
	'sender_id'		=> $user->user_id,
	'receiver_id'	=> $chenanye->user_id,
	'message_title'	=> 'Anye 发给 chenanye 的信息',
	'message_content'=> 'Anye 发给 chenanye 的信息的正文'
));
$message->save();
echo "信息保存成功"; */
//$msg = Model\Message::first();
//echo $msg->receiver->user_name;
/* $str = "?";   //加密内容  
$key = "key:111";   //密钥  
$cipher = MCRYPT_DES;  //密码类型  
$modes = MCRYPT_MODE_ECB;  //密码模式  
$iv = mcrypt_create_iv(mcrypt_get_iv_size($cipher,$modes),MCRYPT_RAND);//初始化向量  
echo "加密明文：".$str."<p>";  $str_encrypt = mcrypt_encrypt($cipher,$key,$str,$modes,$iv);  //加密函数
echo "加密密文：".$str_encrypt." <p>";  $str_decrypt = mcrypt_decrypt($cipher,$key,$str_encrypt,$modes,$iv);  //解密函数  
echo "还原：".$str_decrypt;
echo base64_encode($str); */
/* $name = "yike_id";
$name = base64_encode($name);
$cname = str_split($name, ceil( strlen($name) / 2) );
print_r($cname); */

//setcookie("username", "yike", time()+186023);
//echo Yike\Cookie::$user_angent;
//echo $GLOBALS['config']['cookie'];
//Yike\Cookie::set("YikeID", 1, 24*60*60);
//var_dump(intval(Yike\Cookie::getValue("YikeID")));
//var_dump(Model\User::getCurrentUser());
//echo Yike\AccessControl::getCurrentUserRole();
//Yike\Cookie::delete("yike_id");
/* $name = "YikeID";
$name = base64_encode($name);
$cname = str_split($name, ceil( strlen($name) / 2));
var_dump($cname); */
//echo $_SERVER['HTTP_HOST'];

View\General::waste($start);

